{% import 'OroCRMHangoutsCallBundle::macros.html.twig' as HangoutsCall %}

{% set hangout_options = {} %}
{% if entity is not empty %}
    {% set hangout_options = hangout_options|merge({
        invites: [{
            id: entity.phoneNumber|escape('html'),
            invite_type: 'PHONE'
        }]
    }) %}
{% endif %}
{% if widget_size is defined %}
    {% set hangout_options = hangout_options|merge({
        widget_size: widget_size
    }) %}
{% endif %}

{{ HangoutsCall.renderStartButton({
    class: 'action btn-group',
    component: 'orocrmhangoutscall/js/app/components/call-log-start-hangout-component',
    dataAttributes: {
        'action-name': 'hangout-call'
    },
    hangoutOptions: hangout_options
}) }}
